<div>
  <h1 id="name"></h1>
  <p><b>Department:</b> <span id="department"></span></p>
  <p><b>Publications:</b> <span id="publications"></span></p>
  <p><b>Research Papers:</b> <span id="researchPapers"></span></p>
  <p><b>Experience:</b> <span id="experience"></span></p>
  <p><b>Education:</b> <span id="education"></span></p>
</div>

<script type="module">
  import { auth, db } from "./firebase.js";
  import { onAuthStateChanged } from
    "https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js";
  import { doc, getDoc } from
    "https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js";

  onAuthStateChanged(auth, async (user) => {
    if (!user) {
      window.location.href = "login.html";
      return;
    }

    const docRef = doc(db, "professors", user.uid);
    const docSnap = await getDoc(docRef);

    if (!docSnap.exists()) {
      alert("No profile found!");
      return;
    }

    const data = docSnap.data();

    document.getElementById("name").innerText = data.name || "";
    document.getElementById("department").innerText = data.department || "";
    document.getElementById("publications").innerText = data.publications || "";
    document.getElementById("researchPapers").innerText = data.researchPapers || "";
    document.getElementById("experience").innerText = data.experience || "";
    document.getElementById("education").innerText = data.education || "";
  });
</script>
